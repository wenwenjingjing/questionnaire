<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title> </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="./css/swiper.min.css">
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/main.css" /> 
    <script src="./layui-v2.4.2/layui/css/layui.css" ></script>
    <script src="js/jquery-1.11.3.js"></script>
</head>

<body>
    <div class="scoreLayer">
        <div class="site-demo-button" id="layerDemo" style="margin-bottom: 0;">
            <button data-method="offset" data-type="auto" class="layui-btn layui-btn-normal">居中弹出</button>
        </div>
        <div class="showScore" style="display: none;width: 100%;">
      
        <!-- Swiper -->
        <section class="toup" id="t2">
            <div class="swipers">
                <div class="swiper-container">
                    <!-- Add Pagination -->
                    <div class="swiper-pagination"></div>
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <div class="scores">
                                <h3>1. 你对于PGC的了解有多少于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多？</h3>
                                <div class="choose">
                                    <div class="input">
                                        <input type="radio" name="score" id="1" />
                                        <label for="1">了解</label>
                                    </div>
                                    <div class="input">
                                        <input type="radio" name="score" id="2" />
                                        <label for="2">了解一点</label>
                                    </div>
                                    <div class="input">
                                        <input type="radio" name="score" id="3" />
                                        <label for="3">完全不了解</label>
                                    </div>
                                </div>
                                <div class="img-box">
                                    <img src="./images/img.jpg" alt="">
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="scores">
                                <h3>2. 你对于PGC的了解有多少于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多？</h3>
                                <div class="choose">
                                    <div class="input">
                                        <input type="radio" name="score1" id="4" />
                                        <label for="4">了解</label>
                                    </div>
                                    <div class="input">
                                        <input type="radio" name="score1" id="5" />
                                        <label for="5">了解一点</label>
                                    </div>
                                    <div class="input">
                                        <input type="radio" name="score1" id="6" />
                                        <label for="6">完全不了解</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="scores">
                                <h3>3. 你对于PGC的了解有多少于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多？</h3>
                                <div class="choose">
                                    <div class="input">
                                        <input type="radio" name="score2" id="7" />
                                        <label for="7">了解</label>
                                    </div>
                                    <div class="input">
                                        <input type="radio" name="score2" id="8" />
                                        <label for="8">了解一点</label>
                                    </div>
                                    <div class="input">
                                        <input type="radio" name="score2" id="9" />
                                        <label for="9">完全不了解</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="scores">
                                <h2>4. 你对于PGC的了解有多少于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多？</h3>
                            <div class="choose">
                                <div class="input">
                                    <input type="radio" name="score3" id="10" />
                                    <label  for="10">了解</label>
                                </div>
                                <div class="input">
                                    <input type="radio" name="score3" id="11" />
                                    <label  for="11">了解一点</label>
                                </div>
                                <div class="input">
                                    <input type="radio" name="score3" id="12" />
                                    <label  for="12">完全不了解</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="scores">
                            <h3>5. 你对于PGC的了解有多少于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多？</h3>
                            <div class="choose">
                                <div class="input">
                                    <input type="radio" name="score4" id="13" />
                                    <label  for="13">了解</label>
                                </div>
                                <div class="input">
                                    <input type="radio" name="score4" id="14" />
                                    <label  for="14">了解一点</label>
                                </div>
                                <div class="input">
                                    <input type="radio" name="score4" id="15" />
                                    <label  for="15">完全不了解</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="scores">
                            <h3>6. 你对于PGC的了解有多少于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多于PGC的了解有多？</h3>
                            <div class="choose">
                                <div class="input">
                                    <input type="radio" name="score5" id="16" />
                                    <label  for="16">了解</label>
                                </div>
                                <div class="input">
                                    <input type="radio" name="score5" id="17" />
                                    <label  for="17">了解一点</label>
                                </div>
                                <div class="input">
                                    <input type="radio" name="score5" id="18" />
                                    <label  for="18">完全不了解</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Add Arrows -->
                <div class="slide-button">
                    <div class="swiper-button-prev">
                        上一题</div>
                    <div class="swiper-button-next">
                        下一题</div>
                </div>
            </div>
        </div>
    </section>
    <section class="toup" id="t3">
        <div class="swipers">
            <div class="con">
            <p>谢谢您的参与</p>
            <a href="javascript:;" class="submitBtn">提交调查</a>
        </div>
        </div>
    </section>
</div>
    <!-- Swiper JS -->
    </div>
    <script src="./layui-v2.4.2/layui/layui.js" ></script>
     <script src="./js/swiper.min.js"></script>

<script>
layui.use('layer', function(){ //独立版的layer无需执行这一句
  var $ = layui.jquery, layer = layui.layer; //独立版的layer无需执行这一句
  
  //触发事件
  var active = {
    offset: function(othis){
      var type = othis.data('type') 
      
      layer.open({
        type: 1
        ,title: '实验题目'
        ,offset: type //具体配置参考：http://www.layui.com/doc/modules/layer.html#offset
        ,id: 'layerDemo'+type //防止重复弹出
        ,content: $('.showScore') 
        ,shade: 0 //不显示遮罩
        ,yes: function(){
          layer.closeAll();
        }
        ,resize:false
        ,area: ['500px', '660px']
        ,success:function(){
            var swiper = new Swiper('.swiper-container', {
            slidesPerView: 1,
            spaceBetween: 30,
            loop: true, 
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
                renderBullet: function(index, className) {
                    return '<span class="' + className + '">' + (index + 1) + '</span>';
                }
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            }, 
            on:{
                reachEnd: function(){
                    $("#t2").hide();
                    $("#t3").show();
                },
                 slideChange: function(){
                      $('.swiper-pagination-bullet-active').next().prevAll().addClass("past-bullet");
                     $('.swiper-pagination-bullet-active').nextAll().removeClass("past-bullet");

                    }, 
            }
         });

                $("#t3").hide();
                $("a.joinBtn").on("click", function() {
                    $("#t2").show();
                });
                $(".swiper-container label,.swiper-container input").click(function() {
                    var this_active = $(this).parents(".swiper-slide").index();
                    setTimeout(function() {
                        swiper.slideTo(this_active + 1, 1000)
                    }, 500);
               
                });
                $('.swiper-button-next').click(function() {
                    if (swiper.isEnd) {
                        $("#t2").hide();
                        $("#t3").show();
                    }
                });
                $('.submitBtn').click(function() {
                     layer.closeAll();
                })

          }
      });
    }
  };
  
  $('#layerDemo .layui-btn').on('click', function(){
    var othis = $(this), method = othis.data('method');
    active[method] ? active[method].call(this, othis) : '';
  });
  
});
 
 
    

    </script>
</body>

</html>